:root { 
    --p: #248bf5; --bg: #09090b; --c: #18181b; --b: #27272a; --t: #fafafa; --s: #a1a1aa; --danger: #ef4444; 
    --safe-bottom: 25px; 
}
[data-theme="light"] { --bg: #f4f4f5; --c: #ffffff; --b: #e4e4e7; --t: #09090b; --s: #71717a; }

* { box-sizing: border-box; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; outline: none; }
html, body { height: 100%; width: 100%; margin: 0; padding: 0; overflow: hidden; background: var(--bg); color: var(--t); }
body { display: flex; flex-direction: column; position: fixed; inset: 0; }

/* Навигация */
.nav-bar { background: var(--c); border-top: 1px solid var(--b); display: flex; justify-content: space-around; padding: 10px 0 calc(5px + var(--safe-bottom)); z-index: 1000; flex-shrink: 0; }
.nav-item { color: var(--s); cursor: pointer; display: flex; flex-direction: column; align-items: center; font-size: 11px; gap: 4px; flex: 1; transition: 0.2s; }
.nav-item.active { color: var(--p); transform: translateY(-2px); }

/* Экраны */
.screen { flex: 1; display: none; flex-direction: column; overflow: hidden; padding-top: env(safe-area-inset-top, 0px); }
.screen.active { display: flex; }
.header { padding: 15px 20px; background: var(--c); border-bottom: 1px solid var(--b); font-weight: 700; font-size: 20px; display: flex; align-items: center; justify-content: space-between; flex-shrink: 0; }
.content-scroll { flex: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 10px; -webkit-overflow-scrolling: touch; }

/* Элементы */
.card { background: var(--c); border: 1px solid var(--b); border-radius: 20px; padding: 15px; }
.ava { width: 48px; height: 48px; border-radius: 16px; object-fit: cover; background: var(--b); flex-shrink: 0; }
.input-field { background: var(--bg); border: 1px solid var(--b); color: var(--t); padding: 12px 18px; border-radius: 25px; font-size: 15px; }
.btn-circle { width: 44px; height: 44px; border-radius: 50%; background: var(--p); border: none; color: white; display: flex; align-items: center; justify-content: center; flex-shrink: 0; cursor: pointer; }

/* Чат */
.bubble { max-width: 80%; padding: 8px 14px; border-radius: 18px; font-size: 15px; line-height: 1.4; word-wrap: break-word; display: flex; flex-direction: column; margin-bottom: 5px; }
.bubble.me { align-self: flex-end; background: var(--p); color: white; border-bottom-right-radius: 4px; }
.bubble.not-me { align-self: flex-start; background: var(--b); border-bottom-left-radius: 4px; }
.msg-time { font-size: 10px; opacity: 0.7; align-self: flex-end; margin-top: 2px; }

/* Утилиты */
.full-width { width: 100% !important; }
.flex-row { display: flex; gap: 10px; }
.align-center { align-items: center; }
.pointer { cursor: pointer; }
.danger-text { color: var(--danger) !important; border-color: var(--danger) !important; }
.menu-item { width: 100%; display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; cursor: pointer; }
#auth-screen { position: fixed; inset: 0; background: var(--bg); z-index: 2000; display: flex; align-items: center; justify-content: center; padding: 20px; }
.profile-center { align-items: center; text-align: center; }
.profile-ava { width: 100px; height: 100px; border-radius: 35px; border: 3px solid var(--p); margin-top: 20px; }
